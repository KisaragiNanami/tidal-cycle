---
// src/components/feed/Pagination.astro
interface Props {
  beforeCursor?: string | null; // “更早”的光标 (最后一个帖子的 ID)
  afterCursor?: string | null; // “更新”的光标 (第一个帖子的 ID)
  showBefore: boolean; // 是否显示“更早”按钮
  showAfter: boolean; // 是否显示“更新”按钮
}

const { beforeCursor, afterCursor, showBefore, showAfter } = Astro.props;

// 如果光标不存在，或者不应显示，则禁用按钮
const isOlderDisabled = !beforeCursor || !showBefore;
const isNewerDisabled = !afterCursor || !showAfter;
---

<nav class="flex justify-between items-center gap-4">
  <a
    href={isNewerDisabled ? "#" : `/?after=${afterCursor}`}
    class:list={[
      "btn btn-primary btn-sm rounded-xl sm:btn-md",
      { "btn-disabled": isNewerDisabled },
    ]}
    aria-disabled={isNewerDisabled}
    aria-label={isNewerDisabled ? "暂无更新的动态" : "查看更多更新的动态"}
  >
    <i class="ri-arrow-left-line" aria-hidden="true"></i>
    <span class="hidden sm:inline">更新的动态</span>
    <span class="sr-only sm:hidden">更新的动态</span>
  </a>

  <a
    href={isOlderDisabled ? "#" : `/?before=${beforeCursor}`}
    class:list={[
      "btn btn-primary btn-sm rounded-xl sm:btn-md",
      { "btn-disabled": isOlderDisabled },
    ]}
    aria-disabled={isOlderDisabled}
    aria-label={isOlderDisabled ? "暂无更早的动态" : "查看更多更早的动态"}
  >
    <span class="hidden sm:inline">更早的动态</span>
    <span class="sr-only sm:hidden">更早的动态</span>
    <i class="ri-arrow-right-line" aria-hidden="true"></i>
  </a>
</nav>
